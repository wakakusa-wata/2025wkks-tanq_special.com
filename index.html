<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>若草探求 | 地域課題に挑む、未来の知性たち</title>
    
    <link rel="stylesheet" href="style .css"> 
</head>
<body>
<main>
    <section id="hero" class="hero-section">
        <div class="slideshow-container">
            <div class="hero-slide active" style="background-image: url('tanq-1.png');"></div>
            <div class="hero-slide" style="background-image: url('tanq-2.png');"></div>
            <div class="hero-slide" style="background-image: url('tanq-3.png');"></div>
            <div class="hero-slide" style="background-image: url('tanq-4.png');"></div>
        </div>
        <div class="hero-content">
            <h1>若草探求</h1>
            <p>地域課題に挑む、未来の知性たち</p>
            <a href="#projects" class="cta-button">探究テーマを見る</a>
        </div>
    </section>
    
    </main>
        <section id="projects" class="projects-section">
            <div class="container">
                <h2>若草探求プロジェクト</h2>
                <p class="section-lead">中学3年生による、奈良の地域課題に切り込んだ個性豊かな探究テーマを紹介します。</p>

                <div class="project-carousel-wrapper">
                    <div class="project-carousel" id="project-carousel"> 
                        
                        <div class="project-card">
                            <a href="/projects/detail-001.html"> 
                                <div class="card-image-placeholder img-1"></div>
                                <div class="card-content">
                                    <h3>畠山製菓を近畿に進出させることはできるのか</h3>
                                    <p class="project-meta">ビジネス</p>
                                    <span class="read-more-link">詳細を見る &raquo;</span>
                                </div>
                            </a>
                        </div>

                        <div class="project-card">
                            <a href="/projects/detail-002.html"> 
                                <div class="card-image-placeholder img-2"></div>
                                <div class="card-content">
                                    <h3>サッカーで地域活性化できるのか</h3>
                                    <p class="project-meta">地域振興</p>
                                    <span class="read-more-link">詳細を見る &raquo;</span>
                                </div>
                            </a>
                        </div>

                        <div class="project-card">
                            <a href="/projects/detail-003.html"> 
                                <div class="card-image-placeholder img-3"></div>
                                <div class="card-content">
                                    <h3>奈良にリニアを通すべきか</h3>
                                    <p class="project-meta">都市開発・交通</p>
                                    <span class="read-more-link">詳細を見る &raquo;</span>
                                </div>
                            </a>
                        </div>

                        <div class="project-card">
                            <a href="/projects/detail-004.html"> 
                                <div class="card-image-placeholder img-4"></div>
                                <div class="card-content">
                                    <h3>歴史的建造物の再建や保護に高い費用を掛ける必要があるのか</h3>
                                    <p class="project-meta">文化財・経済</p>
                                    <span class="read-more-link">詳細を見る &raquo;</span>
                                </div>
                            </a>
                        </div>
                    </div>
                    
                    <button class="carousel-nav prev" aria-label="前のテーマへ">＜</button>
                    <button class="carousel-nav next" aria-label="次のテーマへ">＞</button>
                </div>
                
                <div class="all-projects-link">
                    <a href="/projects/archive.html" class="link-button">全ての探究テーマを見る</a>
                </div>
            </div>
        </section>

        <section id="news" class="news-section">
            <div class="container">
                <h2>News & Topics</h2>
                <ul class="news-list">
                    <li class="news-item">
                        <a href="news.html">
                            <time datetime="2025-10-23">2025.10.23</time>
                            <span class="category type-event">イベント</span>
                            <p class="news-title">「若草探求 最終発表会」開催決定のお知らせ</p>
                        </a>
                    </li>
                    <li class="news-item">
                        <a href="news.html">
                            <time datetime="2025-10-15">2025.10.15</time>
                            <span class="category type-progress">進捗</span>
                            <p class="news-title">探究中間報告書提出！生徒たちの熱意が溢れる内容に。</p>
                        </a>
                    </li>
                    <li class="news-item">
                        <a href="news.html">
                            <time datetime="2025-09-01">2025.09.01</time>
                            <span class="category type-info">一般</span>
                            <p class="news-title">若草探求 特設サイトを公開いたしました。</p>
                        </a>
                    </li>
                </ul>
                <div class="all-news-link">
                    <a href="news.html" class="link-button">お知らせ一覧へ</a>
                </div>
            </div>
        </section>
        
        <section id="contact-cta" class="contact-section">
            <div class="container">
                <h2>CONTACT US</h2>
                <p class="contact-lead">
                    生徒たちの探究を社会と接続する。
                </p>
                <p class="contact-message">
                    若草探求プロジェクトへのご意見、地域連携、取材など、あらゆるお問い合わせをお待ちしております。
                </p>
                <div class="contact-cta">
                    <a href="contact.html" class="contact-button">お問い合わせフォームへ</a>
                </div>
            </div>
        </section>
        
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 若草中学校 若草探求プロジェクト. All rights reserved.</p>
            <div class="footer-links">
                <a href="about.html">本プロジェクトについて</a> |
                <a href="contact.html">お問い合わせ</a>
            </div>
        </div>
    </footer>

<script>
        // ⬇️ 既存のJSコードの順序を整理し、途切れた行を修正 ⬇️

        // ヒーロースライドショー機能
        function startHeroSlideshow() {
            const slides = document.querySelectorAll('.hero-slide');
            let currentSlide = 0;
            const intervalTime = 5000; // 5秒ごとに切り替え

            function nextSlide() {
                if (slides.length === 0) return;
                slides[currentSlide].classList.remove('active');
                currentSlide = (currentSlide + 1) % slides.length;
                slides[currentSlide].classList.add('active');
            }

            if (slides.length > 1) {
                slides[0].classList.add('active');
                setInterval(nextSlide, intervalTime);
            }
        }

        const menuToggle = document.getElementById('menu-toggle');
        const mainNav = document.getElementById('main-nav');
        
        // ハンバーガーメニューの開閉機能
        menuToggle.addEventListener('click', function() {
            mainNav.classList.toggle('is-open');
            this.classList.toggle('is-active');
            // ★★ 修正箇所 ★★
            document.body.classList.toggle('no-scroll'); // 'no-scroll'クラスのトグルを完了
        });

        // メニューリンククリック時の自動クローズ機能
        // ... (この下に既存のJSが続きます) ...
        
        // ページが完全に読み込まれた後に実行
        document.addEventListener('DOMContentLoaded', () => {
             // ヒーロースライドショーの実行
            startHeroSlideshow();
            
            // 既存のカルーセルJSのコード（`const carousel = document.getElementById('project-carousel');`から始まる部分）をここに続けてください。
            
             const navLinks = mainNav.querySelectorAll('a');
            navLinks.forEach(link => {
                link.addEventListener('click', () => {
                    if (mainNav.classList.contains('is-open')) {
                        mainNav.classList.remove('is-open');
                        menuToggle.classList.remove('is-active');
                        document.body.classList.remove('no-scroll');
                    }
                });
            });

            // スライドショー機能の実行（startHeroSlideshowはDOMContentLoadedの最後に移動しました）

            // カルーセル機能の実行
            const carousel = document.getElementById('project-carousel');
            const prevButton = document.querySelector('.carousel-nav.prev');
            const nextButton = document.querySelector('.carousel-nav.next');

            // 1枚のスライドの幅 (CSS: 300px + 30px)
            const cardWidth = 330;  
            let currentPosition = 0;

            // 前へボタンの処理
            prevButton.addEventListener('click', () => {
                currentPosition += cardWidth;
                if (currentPosition > 0) {
                    currentPosition = 0;
                }
                carousel.style.transform = `translateX(${currentPosition}px)`;
            });

            // 次へボタンの処理
            nextButton.addEventListener('click', () => {
                const carouselWidth = carousel.scrollWidth;  
                const wrapperWidth = carousel.parentElement.clientWidth;  

                currentPosition -= cardWidth;
                
                const maxScroll = wrapperWidth - carouselWidth;

                if (currentPosition < maxScroll) {
                    currentPosition = maxScroll;
                }

                carousel.style.transform = `translateX(${currentPosition}px)`;
            });
        });

    </script>
</body>
</html>
